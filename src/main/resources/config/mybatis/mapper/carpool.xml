<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="carpool">
	
	<!-- 카풀게시판목록 조회 -->
 
	<select id="carpool_list" resultType="vo.CarpoolVo">
		select * from carpool order by idx desc
	</select>
	
	<!-- 조건별 검색 : Dynamic Query-->
	<select id="carpool_list_condition" parameterType="java.util.Map" resultType="vo.CarpoolVo">
		select * from carpool
		<trim prefix="where" prefixOverrides="or">
			<if test="mem_nickname!=null">
				mem_nickname like '%' || #{mem_nickname} || '%'
			</if>
			<if test="carpool_content!=null">
				or carpool_content  like '%' || #{carpool_content } || '%' 
			</if>
		</trim>
		order by carpool_idx desc
	</select>

	<select id="carpool_one" parameterType="int" resultType="carpool">
		select * from carpool_one where idx= #{carpool_idx}
	</select>
	
	
</mapper>













<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="review">
	
	<!-- 리뷰게시판목록 조회 -->
 
	<select id="review_list" resultType="vo.ReviewVo">
		select * from review order by idx desc
	</select>
	
	<!-- 조건별 검색 : Dynamic Query-->
	<select id="review_list_condition" parameterType="java.util.Map" resultType="vo.ReviewVo">
		select * from review
		<trim prefix="where" prefixOverrides="or">
			<if test="mem_nickname!=null">
				mem_nickname like '%' || #{mem_nickname} || '%'
			</if>
			<if test="review_content!=null">
				or review_content  like '%' || #{review_content} || '%' 
			</if>
		</trim>
		order by review_idx desc
	</select>

	<select id="review_one" parameterType="int" resultType="review">
		select * from review_one where idx= #{review_idx}
	</select>
	
	
</mapper>












